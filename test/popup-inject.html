<!DOCTYPE html>
<html lang="zh-cmn-Hans">
  <head>
    <meta charset="UTF-8" />
    <title>popup-inject</title>
  </head>
  <body></body>
  <script src="../src/popup-inject.js"></script>
  <script>
    window.paso
      .injectPopup({
        namespace: 'test',
        actionName: 'Popup Inject Test',
        location: '30%',
        collapse: '80%',
        content: `<button class="button" type="button">Random</button>
            <div class="container monospace"></div>`,
        onPopShow() {
          console.log('popup show')
        },
        onPopHide() {
          console.log('popup hide')
        }
      })
      .then((result) => {
        const { popup } = result.elem
        const container = popup.querySelector('.container')
        popup.querySelector('.button').onclick = () => {
          container.insertAdjacentHTML('beforeend', `<p>${Math.random()}</p>`)
        }
      })
  </script>
</html>
